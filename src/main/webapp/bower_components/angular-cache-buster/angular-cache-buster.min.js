angular.module("ngCacheBuster",[]).config(["$httpProvider",function(t){return t.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.setMatchlist=function(t,e){this.black=void 0!==e&&e,this.matchlist=t},this.setLogRequests=function(t){this.logRequests=t},this.$get=["$q","$log",function(u,h){var c=this.matchlist,l=this.logRequests,n=this.black;return l&&h.log("Blacklist? ",n),{request:function(t){for(var e=!n,r=0;r<c.length;r++)if(t.url.match(c[r])){e=n;break}if(e){var s=new Date;t.url=t.url.replace(/[?|&]cacheBuster=\d+/,""),t.url+=-1===t.url.indexOf("?")?"?":"&",t.url+="cacheBuster="+s.getTime()}if(l){var i="request.url ="+t.url;e?h.warn(i):h.info(i)}return t||u.when(t)}}}]});